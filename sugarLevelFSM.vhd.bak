library ieee;
use ieee.std_logic_1164.all;

entity sugarLevelFSM is
	port(xIn0	: in  std_logic;
		  xIn1	: in  std_logic;
		  sugar	: out std_logic_vector(1 downto 0));
end sugarLevelFSM;

architecture v1 of sugarLevelFSM is

		type TState is (E0, E1, E2, E3);
		signal cs, ns : TState;
			
begin 

		process(cs)
		begin 
			sugar <= "00";
			ns <= cs;
			
			case cs is 
				when E0 =>
					sugar <= "00"
					if (xIn0 = '1') then
						ns <= E1;
					end if;	
				
				when E1 =>
					sugar <= "01"
					if (xIn0 = '1') then
						ns <= E2;
					elsif (xIn1 = '1') then
						ns <= E0;
					end if;
				
				when E2 =>
					sugar <= "10"
					if (xIn0 = '1') then
						ns <= E3;
					elsif (xIn1 = '1') then
						ns <= E1;
					end if;
				
				when E3 =>
					sugar <= "11"
					if (xIn1 = '1') then
						ns <= E2;
					end if;

			end case;
		end process;
	end v1;